import { Callout, Steps } from 'nextra/components'

# User Experience Design Document (UXDD)

<Callout type="info">
  This document aggregates all user experience design specifications, including user research, personas, journey maps, wireframes, and design systems.
</Callout>

## 1. User Research & Analysis

### 1.1 User Personas
```mermaid
mindmap
  root((User Personas))
    Primary Users
      Demographics
      Goals
      Pain Points
      Behaviors
    Secondary Users
      Demographics
      Goals
      Pain Points
      Behaviors
    Edge Cases
      Special Needs
      Accessibility
      Edge Scenarios
```

### 1.2 User Journey Maps
```mermaid
journey
    title Core User Journey
    section Discovery
      Find Solution: 5: Persona
      Research Options: 3: Persona
      Compare Features: 4: Persona
    section Engagement
      Initial Setup: 5: Persona
      Basic Usage: 3: Persona
      Advanced Features: 4: Persona
    section Retention
      Regular Use: 4: Persona
      Feature Mastery: 3: Persona
      Advocacy: 5: Persona
```

## 2. Information Architecture

### 2.1 Site Map Structure
```mermaid
graph TD
    subgraph Primary Navigation
        P1[Home]
        P2[Features]
        P3[Documentation]
    end
    
    subgraph Secondary Navigation
        S1[User Guide]
        S2[API Docs]
        S3[Examples]
    end
    
    subgraph Utility Navigation
        U1[Search]
        U2[Settings]
        U3[Profile]
    end
    
    P1 --> S1
    P2 --> S2
    P3 --> S3
    S1 --> U1
    S2 --> U2
    S3 --> U3
```

### 2.2 Content Hierarchy
```mermaid
graph TD
    subgraph Content Levels
        L1[Level 1: Main Sections]
        L2[Level 2: Categories]
        L3[Level 3: Subcategories]
        L4[Level 4: Content Pages]
    end
    
    subgraph Content Types
        T1[Documentation]
        T2[Tutorials]
        T3[Reference]
        T4[Examples]
    end
    
    L1 --> L2
    L2 --> L3
    L3 --> L4
    L2 --> T1
    L3 --> T2
    L4 --> T3
```

## 3. Wireframe Specifications

### 3.1 Component Library
```mermaid
graph TD
    subgraph Atoms
        A1[Buttons]
        A2[Inputs]
        A3[Icons]
        A4[Typography]
    end
    
    subgraph Molecules
        M1[Form Fields]
        M2[Search Bars]
        M3[Navigation Items]
        M4[Cards]
    end
    
    subgraph Organisms
        O1[Forms]
        O2[Navigation Bars]
        O3[Content Sections]
        O4[Sidebars]
    end
    
    A1 --> M1
    A2 --> M1
    A3 --> M2
    A4 --> M3
    M1 --> O1
    M2 --> O2
    M3 --> O3
```

### 3.2 Layout Grid System
```mermaid
graph TD
    subgraph Grid Structure
        G1[12-Column Grid]
        G2[Responsive Breakpoints]
        G3[Spacing System]
    end
    
    subgraph Containers
        C1[Fixed Width]
        C2[Fluid Width]
        C3[Mixed Width]
    end
    
    subgraph Spacing
        S1[4px Base Unit]
        S2[8px, 16px, 24px]
        S3[32px, 48px, 64px]
    end
    
    G1 --> C1
    G2 --> C2
    G3 --> C3
    C1 --> S1
    C2 --> S2
    C3 --> S3
```

### 3.3 Wireframe Examples
```mermaid
graph TD
    subgraph Dashboard Layout
        H[Header]
        S[Sidebar]
        M[Main Content]
        F[Footer]
        
        subgraph Header Components
            H1[Logo]
            H2[Navigation]
            H3[User Menu]
        end
        
        subgraph Sidebar Components
            S1[Menu Items]
            S2[Filters]
            S3[Actions]
        end
        
        subgraph Main Content
            M1[Stats Cards]
            M2[Data Table]
            M3[Charts]
        end
        
        H --> H1
        H --> H2
        H --> H3
        S --> S1
        S --> S2
        S --> S3
        M --> M1
        M --> M2
        M --> M3
    end
```

```mermaid
graph TD
    subgraph Mobile Layout
        TN[Top Nav]
        MC[Main Content]
        BN[Bottom Nav]
        
        subgraph Top Nav Components
            T1[Back Button]
            T2[Title]
            T3[Actions]
        end
        
        subgraph Content Sections
            C1[Header Section]
            C2[Scroll Content]
            C3[Fixed Actions]
        end
        
        subgraph Bottom Navigation
            B1[Home]
            B2[Search]
            B3[Profile]
        end
        
        TN --> T1
        TN --> T2
        TN --> T3
        MC --> C1
        MC --> C2
        MC --> C3
        BN --> B1
        BN --> B2
        BN --> B3
    end
```

### 3.4 Component States
```tsx
// Button Component States
interface ButtonStates {
  default: {
    background: 'bg-primary',
    text: 'text-white',
    padding: 'px-4 py-2'
  },
  hover: {
    background: 'bg-primary-dark',
    transform: 'scale(1.02)',
    transition: 'all 0.2s'
  },
  active: {
    background: 'bg-primary-darker',
    transform: 'scale(0.98)'
  },
  disabled: {
    background: 'bg-gray-300',
    cursor: 'not-allowed',
    opacity: '0.6'
  }
}

// Form Field States
interface FormFieldStates {
  default: {
    border: 'border-gray-300',
    background: 'bg-white'
  },
  focus: {
    border: 'border-primary',
    ring: 'ring-2 ring-primary-light'
  },
  error: {
    border: 'border-red-500',
    background: 'bg-red-50',
    text: 'text-red-600'
  },
  success: {
    border: 'border-green-500',
    background: 'bg-green-50',
    text: 'text-green-600'
  }
}
```

## 9. User Research Templates

### 9.1 User Interview Template
```markdown
# User Interview Guide

## Introduction
- Welcome participant
- Explain session purpose
- Get consent for recording
- Explain confidentiality

## Background Questions
1. Role and responsibilities
2. Industry experience
3. Current tools and processes
4. Pain points and challenges

## Task-Specific Questions
1. Walk me through how you...
2. What challenges do you face when...
3. How do you currently solve...
4. What would make this process better...

## Feature Exploration
1. Most important features
2. Missing functionality
3. Improvement suggestions
4. Priority ranking

## Wrap-up
- Additional thoughts
- Next steps
- Thank participant
```

### 9.2 Usability Test Script
```markdown
# Usability Test Script

## Test Setup
- Task scenarios
- Success criteria
- Time estimates
- Required resources

## Introduction Script
"Thank you for participating. We're testing the application, not you.
Please think aloud as you work through the tasks..."

## Tasks
1. Task: [Description]
   - Success criteria
   - Expected path
   - Potential issues
   
2. Task: [Description]
   - Success criteria
   - Expected path
   - Potential issues

## Follow-up Questions
1. Overall experience
2. Most difficult aspects
3. Most useful features
4. Suggested improvements

## Metrics Collection
- Task completion rates
- Time on task
- Error rates
- Satisfaction scores
```

### 9.3 User Survey Template
```typescript
interface UserSurvey {
  demographics: {
    role: string;
    experience: number;
    industry: string;
    tooling: string[];
  };
  
  usage: {
    frequency: 'daily' | 'weekly' | 'monthly';
    primaryTasks: string[];
    timeSpent: number;
    painPoints: string[];
  };
  
  satisfaction: {
    overall: number; // 1-5 scale
    features: {
      [feature: string]: {
        usage: number;
        satisfaction: number;
        importance: number;
      };
    };
    nps: number; // 0-10 scale
  };
  
  feedback: {
    improvements: string[];
    missingFeatures: string[];
    barriers: string[];
    openFeedback: string;
  };
}
```

### 9.4 Research Analysis Template
```mermaid
graph TD
    subgraph Data Collection
        D1[Interviews]
        D2[Surveys]
        D3[Analytics]
        D4[Support Tickets]
    end
    
    subgraph Analysis
        A1[Quantitative]
        A2[Qualitative]
        A3[Synthesis]
    end
    
    subgraph Insights
        I1[User Needs]
        I2[Pain Points]
        I3[Opportunities]
    end
    
    subgraph Recommendations
        R1[Features]
        R2[Improvements]
        R3[Priorities]
    end
    
    D1 --> A2
    D2 --> A1
    D3 --> A1
    D4 --> A2
    A1 --> A3
    A2 --> A3
    A3 --> I1
    A3 --> I2
    A3 --> I3
    I1 --> R1
    I2 --> R2
    I3 --> R3
```

### 9.5 Research Report Template
```markdown
# UX Research Report

## Executive Summary
- Key findings
- Critical insights
- Recommendations

## Research Goals
- Objectives
- Research questions
- Success metrics

## Methodology
- Research methods
- Participant demographics
- Data collection process

## Key Findings
1. Finding One
   - Supporting data
   - User quotes
   - Impact assessment

2. Finding Two
   - Supporting data
   - User quotes
   - Impact assessment

## Recommendations
1. Short-term actions
2. Medium-term improvements
3. Long-term strategy

## Next Steps
- Implementation plan
- Success metrics
- Timeline
```

## 4. Design System

### 4.1 Visual Language
```mermaid
mindmap
  root((Design System))
    Typography
      Font Families
      Scale
      Weights
    Colors
      Primary
      Secondary
      Semantic
    Spacing
      Grid
      Layout
      Components
    Icons
      System
      UI
      Illustrations
```

### 4.2 Component Specifications
| Component | States | Variants | Responsive Behavior |
|-----------|--------|----------|-------------------|
| Buttons | Normal, Hover, Active, Disabled | Primary, Secondary, Text | Scale touch targets |
| Inputs | Empty, Filled, Error, Disabled | Text, Number, Select | Full width on mobile |
| Cards | Default, Hover, Selected | Basic, Interactive, Featured | Stack vertically |

## 5. Interaction Design

### 5.1 Navigation Patterns
```mermaid
graph TD
    subgraph Desktop
        D1[Top Navigation]
        D2[Sidebar]
        D3[Breadcrumbs]
    end
    
    subgraph Mobile
        M1[Hamburger Menu]
        M2[Bottom Tabs]
        M3[Back Button]
    end
    
    subgraph Tablet
        T1[Hybrid Navigation]
        T2[Collapsible Sidebar]
        T3[Context Menu]
    end
```

### 5.2 Interaction States
```mermaid
stateDiagram-v2
    [*] --> Idle
    Idle --> Hover
    Hover --> Active
    Active --> Success
    Active --> Error
    Success --> Idle
    Error --> Idle
```

## 6. Accessibility Guidelines

### 6.1 WCAG Compliance
```mermaid
mindmap
  root((Accessibility))
    Perceivable
      Alt Text
      Color Contrast
      Text Scaling
    Operable
      Keyboard Nav
      Touch Targets
      Time Limits
    Understandable
      Readability
      Predictability
      Input Help
    Robust
      Compatibility
      Parsing
      Name/Role/Value
```

### 6.2 Implementation Checklist
| Category | Requirement | Implementation |
|----------|-------------|----------------|
| Semantic HTML | Use proper elements | `<nav>`, `<main>`, `<article>` |
| ARIA | Add missing semantics | `aria-label`, `role` |
| Focus Management | Keyboard navigation | Focus indicators, trap focus |

## 7. Prototypes & Testing

### 7.1 Prototype Workflow
```mermaid
graph LR
    subgraph Design
        D1[Wireframes]
        D2[Visual Design]
        D3[Interactive]
    end
    
    subgraph Testing
        T1[Usability]
        T2[Accessibility]
        T3[Performance]
    end
    
    subgraph Feedback
        F1[User Testing]
        F2[Stakeholder Review]
        F3[Iteration]
    end
    
    D1 --> D2
    D2 --> D3
    D3 --> T1
    T1 --> T2
    T2 --> T3
    T3 --> F1
    F1 --> F2
    F2 --> F3
    F3 --> D1
```

### 7.2 Testing Matrix
| Test Type | Method | Success Criteria |
|-----------|--------|-----------------|
| Usability | Task completion | 90% success rate |
| A11y | Screen reader | WCAG AA compliance |
| Performance | Load time | < 3s initial load |

## 8. Design Management

### 8.1 Design Workflow
```mermaid
graph TD
    subgraph Process
        P1[Research]
        P2[Design]
        P3[Review]
        P4[Implement]
        P5[Test]
        P6[Iterate]
    end
    
    subgraph Tools
        T1[Figma]
        T2[Version Control]
        T3[Documentation]
    end
    
    subgraph Collaboration
        C1[Design Team]
        C2[Development]
        C3[Stakeholders]
    end
    
    P1 --> P2
    P2 --> P3
    P3 --> P4
    P4 --> P5
    P5 --> P6
    P6 --> P2
```

### 8.2 Asset Management
| Asset Type | Format | Storage | Usage |
|------------|--------|---------|-------|
| Icons | SVG | Design System | UI elements |
| Images | WebP | CDN | Content |
| Illustrations | SVG | Component Library | Marketing |

## 10. Common Layout Patterns

### 10.1 Layout Components
```mermaid
graph TD
    subgraph Navigation Layouts
        N1[Fixed Top Nav]
        N2[Side Nav]
        N3[Mobile Nav]
    end
    
    subgraph Content Layouts
        C1[Card Grid]
        C2[Dashboard]
        C3[Data Table]
    end
    
    subgraph Interactive Layouts
        I1[Modal Window]
        I2[Form Layout]
        I3[Dialog Box]
    end
    
    N1 --> |Header|C1
    N2 --> |Sidebar|C2
    N3 --> |Mobile|C3
    C1 --> I1
    C2 --> I2
    C3 --> I3
```

### 10.2 Layout Implementation
```typescript
// Layout Component Types
interface LayoutProps {
  // Navigation
  fixedNav: {
    classes: 'fixed top-0 w-full bg-white shadow-md',
    component: NavigationMenu,
    level: 'organism'
  },
  sideNav: {
    classes: 'fixed left-0 h-full w-64 bg-slate-800',
    component: Sheet,
    level: 'organism'
  },
  
  // Content
  cardGrid: {
    classes: 'grid grid-cols-1 md:grid-cols-3 gap-4',
    component: Card,
    level: 'molecule'
  },
  dashboard: {
    classes: 'grid grid-cols-12 gap-4',
    component: null,
    level: 'template'
  },
  
  // Interactive
  modal: {
    classes: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center',
    component: Dialog,
    level: 'molecule'
  }
}

// Responsive Patterns
interface ResponsiveBreakpoints {
  mobile: 'sm:', // < 640px
  tablet: 'md:', // ≥ 768px
  desktop: 'lg:', // ≥ 1024px
  large: 'xl:'  // ≥ 1280px
}
```

### 10.3 Common Patterns
```html
<!-- Flex Patterns -->
<div class="flex items-center justify-center">
  <!-- Center Content -->
</div>

<div class="flex flex-col space-y-4">
  <!-- Vertical Stack -->
</div>

<div class="flex space-x-4">
  <!-- Horizontal Row -->
</div>

<!-- Grid Patterns -->
<div class="grid grid-cols-4 gap-4">
  <!-- Basic Grid -->
</div>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
  <!-- Responsive Grid -->
</div>
```

## 11. Design System Specifications

### 11.1 Design Tokens
```typescript
interface DesignTokens {
  colors: {
    primary: {
      50: 'hsl(var(--primary-50))',
      100: 'hsl(var(--primary-100))',
      // ... other shades
    },
    secondary: {
      // ... color variants
    },
    semantic: {
      success: 'hsl(var(--success))',
      error: 'hsl(var(--error))',
      warning: 'hsl(var(--warning))'
    }
  },
  
  typography: {
    fonts: {
      sans: 'var(--font-sans)',
      mono: 'var(--font-mono)'
    },
    sizes: {
      xs: '0.75rem',
      sm: '0.875rem',
      base: '1rem',
      lg: '1.125rem',
      xl: '1.25rem'
    },
    weights: {
      normal: '400',
      medium: '500',
      semibold: '600',
      bold: '700'
    }
  },
  
  spacing: {
    0: '0px',
    1: '0.25rem',
    2: '0.5rem',
    3: '0.75rem',
    4: '1rem'
    // ... other spacing values
  },
  
  shadows: {
    sm: 'var(--shadow-sm)',
    md: 'var(--shadow-md)',
    lg: 'var(--shadow-lg)'
  }
}
```

### 11.2 Component Architecture
```mermaid
graph TD
    subgraph Atoms
        A1[Button]
        A2[Input]
        A3[Icon]
        A4[Text]
    end
    
    subgraph Molecules
        M1[Form Field]
        M2[Card]
        M3[Navigation Item]
    end
    
    subgraph Organisms
        O1[Form]
        O2[Navigation Bar]
        O3[Data Table]
    end
    
    subgraph Templates
        T1[Page Layout]
        T2[Dashboard]
        T3[Settings]
    end
    
    A1 & A2 --> M1
    A3 & A4 --> M2
    M1 --> O1
    M2 --> O2
    M3 --> O3
    O1 & O2 & O3 --> T1 & T2 & T3
```

### 11.3 Component Variants
| Component | Variants | States | Props |
|-----------|----------|--------|-------|
| Button | Primary, Secondary, Ghost | Default, Hover, Active, Disabled | size, variant, loading |
| Input | Text, Number, Password | Empty, Filled, Error, Disabled | type, placeholder, error |
| Card | Default, Interactive, Elevated | Default, Hover, Selected | variant, clickable |

### 11.4 Design Guidelines
```mermaid
mindmap
  root((Design Guidelines))
    Consistency
      Component Usage
      Spacing Rules
      Typography Scale
    Accessibility
      Color Contrast
      Focus States
      Screen Readers
    Responsiveness
      Breakpoints
      Layout Shifts
      Touch Targets
    Animation
      Transitions
      Feedback
      Loading States
```

## 12. Wireframe Annotations

### 12.1 Annotation System
```typescript
interface WireframeAnnotation {
  id: string;
  type: 'component' | 'interaction' | 'note';
  position: {
    x: number;
    y: number;
  };
  content: {
    title: string;
    description: string;
    requirements?: string[];
    interactions?: string[];
  };
  references?: {
    component?: string;
    design?: string;
    spec?: string;
  };
}
```

### 12.2 Annotation Examples
```mermaid
graph TD
    subgraph Component Annotations
        C1[Component Name]
        C2[Props & States]
        C3[Variants]
    end
    
    subgraph Interaction Notes
        I1[User Actions]
        I2[System Response]
        I3[Feedback]
    end
    
    subgraph Design Notes
        D1[Spacing]
        D2[Alignment]
        D3[Typography]
    end
    
    C1 --> I1
    C2 --> I2
    C3 --> I3
    I1 --> D1
    I2 --> D2
    I3 --> D3
```

### 12.3 Implementation Notes
| Category | Note Type | Example |
|----------|-----------|---------|
| Layout | Spacing | Use 16px grid, maintain consistent gaps |
| Components | Props | Required: title, optional: description |
| Interaction | States | Show loading spinner during API calls |
| Responsive | Breakpoints | Stack vertically below 768px |

## Next Steps
1. [ ] Complete layout documentation
2. [ ] Finalize design system tokens
3. [ ] Create component specifications
4. [ ] Document responsive patterns
5. [ ] Prepare annotation guidelines